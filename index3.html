<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dosa Toppings ‚Äî Healthy Twist for Every Dosa</title>
    <link rel="icon" href="assets/icon-2.png" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <style>
        :root {
            --brand-1: #1d7a3a;
            --brand-2: #f3c02b;
            --muted: #5b6b6b;
            --bg: #fff7e6;
            --gutter: 18px;
            --max-width: 1200px;
            --card-gap: 12px;
            /* used across CSS & read by JS */
            --mobile-card-bottom-space: 16px;
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            background: var(--bg);
            color: #142026;
            -webkit-font-smoothing: antialiased
        }

        img {
            display: block;
            max-width: 100%
        }

        .conater {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--gutter);
            width: 100%
        }

        /* PRELOADER */
        .preloader {
            position: fixed;
            inset: 0;
            background: #fff;
            z-index: 99999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity .45s, visibility .45s
        }

        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none
        }

        .preloader .logo {
            width: 140px;
            height: 140px;
            display: grid;
            place-items: center;
            padding: 8px;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 8px 30px rgba(8, 12, 20, 0.06)
        }

        .preloader .caption {
            margin-top: 10px;
            font-weight: 700;
            font-size: 14px;
            color: var(--brand-1);
            text-align: center;
            background: rgba(29, 122, 58, 0.06);
            padding: 6px 10px;
            border-radius: 999px
        }

        /* HEADER */
        header.site-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, .98);
            backdrop-filter: blur(6px);
            box-shadow: 0 10px 30px rgba(8, 12, 20, .08);
            z-index: 1200;
            padding: 14px 0
        }

        .nav-inner {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--gutter)
        }

        .brand-left img {
            height: 64px
        }

        .nav-center {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1100
        }

        .nav-list {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0
        }

        .nav-list a {
            font-weight: 800;
            text-decoration: none;
            color: #000;
            padding: 8px 10px;
            border-radius: 8px
        }

        /* bottom nav */
        .bottom-nav {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            bottom: 14px;
            z-index: 1400;
            background: linear-gradient(180deg, #fff, #fbfff4);
            border-radius: 14px;
            padding: 8px 12px;
            box-shadow: 0 12px 40px rgba(8, 12, 20, .12);
            display: flex;
            gap: 12px
        }

        .bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #111;
            font-weight: 700;
            font-size: 12px;
            padding: 6px 8px;
            border-radius: 10px;
            min-width: 56px
        }

        .bottom-nav a.active {
            background: linear-gradient(90deg, var(--brand-1), var(--brand-2));
            color: #fff
        }

        @media(min-width:900px) {
            .bottom-nav {
                display: none
            }

            .brand-left img {
                height: 64px
            }
        }

        @media(max-width:900px) {
            .brand-left img {
                height: 44px
            }

            .nav-center {
                display: none
            }
        }

        /* HERO */
        .hero {
            margin-top: 94px;
            padding: 16px 0;
            display: flex;
            justify-content: center;
            background: linear-gradient(180deg, #fff, #fbfdf9)
        }

        .slides {
            width: 100%;
            max-width: 1400px;
            position: relative;
            overflow: hidden;
            border-radius: 18px;
            aspect-ratio: 16/9;
            background: #eee
        }

        .slide {
            position: absolute;
            inset: 0;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            opacity: 0;
            transform: translateY(12px);
            transition: opacity .9s, transform .9s
        }

        .slide.show {
            opacity: 1;
            transform: none
        }

        .dots {
            position: absolute;
            right: 18px;
            bottom: 18px;
            display: flex;
            gap: 10px;
            padding: 8px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.92);
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06);
            z-index: 20
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(0, 0, 0, .12);
            border: 2px solid rgba(255, 255, 255, .2);
            cursor: pointer
        }

        .dot.active {
            background: var(--brand-2)
        }

        /* marquee */
        .marquee-wrap {
            margin: 22px 0
        }

        .marqueebox {
            border-radius: 12px;
            padding: 8px;
            box-shadow: 0 10px 36px rgba(8, 12, 20, .08);
            overflow: hidden;
            background: #fffef7
        }

        .marquee {
            display: flex;
            gap: 28px;
            align-items: center;
            white-space: nowrap;
            animation: mar 18s linear infinite
        }

        @keyframes mar {
            0% {
                transform: translateX(0)
            }

            100% {
                transform: translateX(-50%)
            }
        }

        .marq-item {
            display: inline-flex;
            gap: 12px;
            align-items: center;
            padding: 8px 12px;
            border-radius: 999px;
            background: linear-gradient(90deg, #fffef7, #f9fff4);
            font-weight: 800;
            color: var(--brand-1)
        }

        /* cards */
        .card-wrap {
            display: flex;
            gap: var(--card-gap);
            padding: 12px 0;
            align-items: flex-start
        }

        .product-card {
            background: linear-gradient(180deg, #fff, #fffef7);
            border-radius: 12px;
            box-shadow: 0 10px 36px rgba(8, 12, 20, .08);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform .16s;
            flex: 0 0 auto
        }

        .product-card:hover {
            transform: translateY(-6px)
        }

        .product-card .img {
            width: 100%;
            height: 240px;
            position: relative;
            background: #eee;
            overflow: hidden
        }

        .product-card .img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block
        }

        .price-badge {
            position: absolute;
            right: 14px;
            bottom: 12px;
            background: #fff;
            padding: 10px 14px;
            border-radius: 12px;
            font-weight: 800;
            color: var(--brand-1);
            box-shadow: 0 8px 22px rgba(0, 0, 0, .06)
        }

        .product-card .body {
            padding: 14px 16px;
            display: flex;
            flex-direction: column;
            gap: 8px
        }

        .tag-pill {
            display: inline-block;
            background: #eaf6ea;
            color: var(--brand-1);
            padding: 6px 10px;
            border-radius: 999px;
            font-weight: 800;
            font-size: 13px;
            width: fit-content;
        }

        .product-card h4 {
            margin: 0;
            font-family: Merriweather, serif;
            font-size: 20px;
            color: var(--brand-1)
        }

        .product-card .desc {
            color: var(--muted);
            font-size: 15px;
            margin-top: 6px
        }

        /* controls */
        .section-controls {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            margin-bottom: var(--mobile-card-bottom-space)
        }

        .ctrl-btn {
            background: #fff;
            border-radius: 10px;
            padding: 8px 10px;
            border: 0;
            box-shadow: 0 8px 22px rgba(0, 0, 0, .06);
            cursor: pointer;
            font-size: 18px
        }

        .dots-small {
            display: flex;
            gap: 8px;
            align-items: center
        }

        .dots-small button {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            border: 0;
            background: rgba(0, 0, 0, .12)
        }

        /* combos grid on desktop */
        .combos-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 12px
        }

        @media(min-width:720px) {
            .combos-grid {
                grid-template-columns: repeat(2, 1fr)
            }
        }

        /* desktop grid */
        @media(min-width:1000px) {
            .card-wrap {
                flex-wrap: wrap
            }

            .product-card {
                width: 100%;
                min-width: 0;
                max-width: 280px;
                flex: 0 0 calc(25% - 18px)
            }

            .product-card .img {
                height: 200px
            }

            .section-controls {
                display: none
            }

            .card-wrap {
                padding: 12px 0
            }
        }

        /* MOBILE: single visible card */
        @media(max-width:999px) {

            /* make carousel full-viewport width horizontally; keep inner spacing via container padding */
            .conater {
                padding-left: 14px;
                padding-right: 14px
            }

            .card-wrap {
                overflow: hidden;
                /* hide the off-screen cards */
                padding: 12px 0;
                margin-bottom: var(--mobile-card-bottom-space);
                will-change: transform;
            }

            .card-wrap .product-card {
                min-width: calc(100% - (var(--card-gap)));
                width: calc(100% - (var(--card-gap)));
                max-width: calc(100% - (var(--card-gap)));
                flex: 0 0 calc(100% - (var(--card-gap)));
                margin-right: 0;
                /* spacing handled by gap on container */
                border-radius: 12px;
            }

            .product-card .img {
                height: 220px
            }

            /* ensure visible spacing below on mobile */
            .product-card {
                margin-bottom: var(--mobile-card-bottom-space)
            }

            .dots-small button.active {
                background: var(--brand-2)
            }
        }

        footer {
            margin-top: 30px;
            padding: 36px 0;
            background: var(--brand-2);
            color: #fff;
            border-top: 6px solid var(--brand-1)
        }

        .footer-inner {
            display: flex;
            gap: 18px;
            align-items: flex-start;
            justify-content: space-between;
            flex-wrap: wrap
        }

        .to-top {
            position: fixed;
            right: 18px;
            bottom: 22px;
            background: var(--brand-1);
            color: #fff;
            width: 52px;
            height: 52px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            box-shadow: 0 12px 44px rgba(10, 20, 10, .18);
            cursor: pointer
        }
    </style>
</head>

<body>
    <!-- PRELOADER -->
    <div id="preloader" class="preloader" aria-hidden="true">
        <div style="display:flex;flex-direction:column;align-items:center;gap:10px;padding:8px;">
            <div class="logo" aria-hidden="true"><img src="assets/icon-5.png" alt="Dosa Toppings logo"
                    style="width:100%;height:auto;display:block"></div>
            <div class="caption">Healthy Twist for every dosa !</div>
        </div>
    </div>

    <!-- HEADER -->
    <header class="site-header" role="banner">
        <div class="nav-inner conater">
            <div class="brand-left"><a href="#home"><img src="assets/icon-5.png" alt="logo"></a></div>
            <nav class="nav-center" role="navigation">
                <ul class="nav-list">
                    <li><a href="#best-seller">Bestsellers</a></li>
                    <li><a href="#combos">Combos</a></li>
                    <li><a href="#products">All Products</a></li>
                    <li><a href="#about-us">About</a></li>
                    <li><a href="#quality">Production</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <div style="width:64px"></div>
        </div>
    </header>

    <!-- bottom nav -->
    <nav class="bottom-nav" role="navigation">
        <a href="#home" class="bn-home active"><i class="bi bi-house-door"></i><span>Home</span></a>
        <a href="#best-seller" class="bn-best"><i class="bi bi-star-fill"></i><span>Bests</span></a>
        <a href="#combos" class="bn-combos"><i class="bi bi-box-seam"></i><span>Combos</span></a>
        <a href="#products" class="bn-products"><i class="bi bi-basket3"></i><span>Shop</span></a>
        <a href="#contact" class="bn-contact"><i class="bi bi-envelope"></i><span>Contact</span></a>
    </nav>

    <main id="home">
        <!-- HERO -->
        <section class="hero">
            <div class="conater">
                <div class="slides" id="slides">
                    <div class="slide show" style="background-image:url('assets/hero-1.png')"></div>
                    <div class="slide" style="background-image:url('assets/hero-2.png')"></div>
                    <div class="slide" style="background-image:url('assets/hero-3.png')"></div>
                    <div class="slide" style="background-image:url('assets/hero-4.png')"></div>
                    <div class="dots" id="dots"></div>
                </div>
            </div>
        </section>

        <div class="marquee-wrap">
            <div class="conater marqueebox">
                <div class="marquee" id="marquee">
                    <div class="marq-item">üåø &nbsp; 100% Natural</div>
                    <div class="marq-item">‚öôÔ∏è &nbsp; No Preservatives</div>
                    <div class="marq-item">üçΩÔ∏è &nbsp; Ready-to-Sprinkle</div>
                </div>
            </div>
        </div>

        <!-- BESTSELLERS -->
        <section id="best-seller" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3 style="margin:0;color:var(--brand-1)">Bestsellers</h3>
                </div>
                <div id="bestTrack" class="card-wrap" role="list" aria-live="polite"></div>

                <div class="section-controls" id="bestControls">
                    <button id="bestPrev" class="ctrl-btn" aria-label="Previous">‚Äπ</button>
                    <div id="bestDots" class="dots-small" aria-hidden="false"></div>
                    <button id="bestNext" class="ctrl-btn" aria-label="Next">‚Ä∫</button>
                </div>
            </div>
        </section>

        <!-- COMBOS -->
        <section id="combos" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3 style="margin:0;color:var(--brand-1)">Combos</h3>
                </div>
                <div id="combosRow" class="card-wrap"></div>

                <div class="section-controls" id="combosControls">
                    <button id="combosPrev" class="ctrl-btn">‚Äπ</button>
                    <div id="combosDots" class="dots-small" aria-hidden="false"></div>
                    <button id="combosNext" class="ctrl-btn">‚Ä∫</button>
                </div>
            </div>
        </section>

        <!-- ALL PRODUCTS -->
        <section id="products" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3 style="margin:0;color:var(--brand-1)">All Products</h3>
                </div>
                <p class="muted">Pure, elevated podis ‚Äî small-batch roasted, stone-ground and finished for today‚Äôs
                    table.</p>

                <div id="productsRow" class="card-wrap"></div>
                <div id="productsGrid" class="section-grid" style="display:none;margin-top:12px"></div>

                <div class="section-controls" id="productsControls">
                    <button id="productsPrev" class="ctrl-btn">‚Äπ</button>
                    <div id="productsDots" class="dots-small" aria-hidden="false"></div>
                    <button id="productsNext" class="ctrl-btn">‚Ä∫</button>
                </div>
            </div>
        </section>

        <!-- About & Production -->
        <section id="about-us" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3 style="margin:0;color:var(--brand-1)">About Us</h3>
                </div>
                <div
                    style="background:linear-gradient(180deg,#fff,#fffef9);padding:18px;border-radius:12px;box-shadow:0 10px 36px rgba(8,12,20,.08)">
                    <p><strong>Dosa Toppings</strong> ‚Äî traditional flavours, modern packaging.</p>
                </div>
            </div>
        </section>
        <section id="quality" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3 style="margin:0;color:var(--brand-1)">Production & Quality</h3>
                </div>
                <div
                    style="background:linear-gradient(180deg,#fff,#fffef9);padding:18px;border-radius:12px;box-shadow:0 10px 36px rgba(8,12,20,.08)">
                    <p>Small-batch roasting, strict hygiene.</p>
                </div>
            </div>
        </section>
    </main>

    <footer id="contact" role="contentinfo">
        <div class="conater footer-inner">
            <div class="footer-left"><img src="assets/icon-5.png" alt="logo" style="height:84px">
                <p>Instant Authentic Flavour ‚Äî From Tradition to Today.</p>
            </div>
            <div class="footer-center">
                <h4>Address</h4>
                <div>KKM FOOD FACTORY<br>Avinashi, Tiruppur, Tamil Nadu</div>
            </div>
            <div class="footer-right">
                <h4>Contact & Order</h4>
                <div class="muted">WhatsApp: <a href="tel:+917200514471" style="color:#fff">+91 72005 14471</a></div>
            </div>
        </div>
        <div class="conater footer-bottom"
            style="display:flex;justify-content:space-between;align-items:center;padding-top:18px;margin-top:14px">
            <div>Made with üåø in Tamil Nadu</div>
            <div>¬©2025 Dosa Toppings ‚Äî Healthy Twist for Every Dosa</div>
            <div>Dosa Toppings v1.0</div>
        </div>
    </footer>

    <button class="to-top" id="toTop" title="Go to top" aria-label="Go to top" style="display:none">‚Üë</button>

    <!-- DATA -->
    <script>
        window.storeData = {
            products: [
                { id: "sig-001", title: "Classic Paruppu Podi", price: 100, unit: "50gms", short: "Lentil-forward, nutty & aromatic.", image: "assets/signature-1.png" },
                { id: "sig-002", title: "Curry Leaves Podi", price: 100, unit: "50gms", short: "Fragrant curry leaf & roasted dals.", image: "assets/signature-2.png" },
                { id: "sig-003", title: "Moringa Podi", price: 145, unit: "50gms", short: "Nutrient-rich moringa, mild spice.", image: "assets/signature-3.png" },
                { id: "sig-004", title: "Garlic Podi", price: 110, unit: "50gms", short: "Roasted garlic ‚Äî bold & savory.", image: "assets/signature-4.png" },
                { id: "sig-005", title: "Idli Milagai Podi", price: 95, unit: "50gms", short: "Classic mild & nutty seasoning.", image: "assets/signature-5.png" },
                { id: "sig-006", title: "Kollu Podi", price: 130, unit: "50gms", short: "Protein-rich horse gram blend.", image: "assets/signature-6.png" },
                { id: "sig-007", title: "Peanut Podi", price: 120, unit: "50gms", short: "Crispy peanuts & warm spices.", image: "assets/signature-7.png" },
                { id: "sig-008", title: "Sesame Podi", price: 110, unit: "50gms", short: "Toasted sesame & fragrant spices.", image: "assets/signature-8.png" },
                { id: "sig-009", title: "Millet Mix Podi", price: 150, unit: "50gms", short: "Wholesome millet + spices.", image: "assets/signature-9.png" },
                { id: "sig-010", title: "Tangy Tomato Podi", price: 105, unit: "50gms", short: "Tangy tomato with mild spice.", image: "assets/signature-10.png" }
            ],
            combos: [
                { id: "combo-001", title: "Breakfast Starter Combo", price: 280, unit: "3 x 50gms", items: ["sig-001", "sig-005", "sig-002"], short: "Classic Paruppu + Idli Milagai + Curry Leaves ‚Äî morning-ready.", image: "assets/combo-1.png" },
                { id: "combo-002", title: "Health Pack Combo", price: 360, unit: "3 x 50gms", items: ["sig-003", "sig-006", "sig-009"], short: "Moringa + Kollu + Millet mix for a nourishing boost.", image: "assets/combo-2.png" },
                { id: "combo-003", title: "Family Favourite Combo", price: 340, unit: "3 x 50gms", items: ["sig-004", "sig-007", "sig-008"], short: "Garlic + Peanut + Sesame ‚Äî balanced family flavours.", image: "assets/combo-3.png" },
                { id: "combo-004", title: "Kids Lunchbox Combo", price: 295, unit: "3 x 50gms", items: ["sig-005", "sig-010", "sig-001"], short: "Mild & tasty trio kids will love ‚Äî safe spice levels.", image: "assets/combo-4.png" }
            ],
            bestSellers: ["sig-003", "sig-004", "sig-001", "sig-007"]
        };
    </script>

    <!-- MAIN SCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const pre = document.getElementById('preloader');
            (function hidePre() { const start = Date.now(); function h() { pre.classList.add('hidden'); } setTimeout(h, Math.max(0, 3000 - (Date.now() - start))); setTimeout(h, 8000); })();

            const bestTrack = document.getElementById('bestTrack');
            const combosRow = document.getElementById('combosRow');
            const productsRow = document.getElementById('productsRow');
            const productsGrid = document.getElementById('productsGrid');

            const data = window.storeData || { products: [], combos: [], bestSellers: [] };
            const lookup = {}; data.products.forEach(p => lookup[p.id] = p);

            function esc(s) { if (s === null || s === undefined) return ''; return String(s).replace(/[&<>"']/g, m => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m])); }

            function createProductCard(p) {
                const a = document.createElement('article'); a.className = 'product-card';
                a.innerHTML = `<div class="img"><img src="${esc(p.image)}" alt="${esc(p.title)}"><div class="price-badge">‚Çπ${Number(p.price || 0).toFixed(0)} / ${esc(p.unit || '')}</div></div><div class="body"><div class="tag-pill">Signature</div><h4>${esc(p.title)}</h4><div class="desc">${esc(p.short || '')}</div></div>`;
                return a;
            }

            function createComboCard(c) {
                const sample = { image: c.image || 'assets/signature-1.png', title: c.title, price: c.price, unit: c.unit, short: c.short };
                return createProductCard(sample);
            }

            // RENDER
            (function renderBest() {
                if (!bestTrack) return;
                bestTrack.innerHTML = '';
                const ids = (data.bestSellers && data.bestSellers.length) ? data.bestSellers.slice() : data.products.slice(0, 4).map(p => p.id);
                const items = ids.map(id => lookup[id]).filter(Boolean);
                items.forEach(p => bestTrack.appendChild(createProductCard(p)));
            })();

            (function renderCombos() {
                if (!combosRow) return;
                combosRow.innerHTML = '';
                (data.combos || []).forEach(c => combosRow.appendChild(createComboCard(c)));
            })();

            (function renderProducts() {
                if (!productsRow || !productsGrid) return;
                productsRow.innerHTML = ''; productsGrid.innerHTML = '';
                (data.products || []).forEach(p => { const c = createProductCard(p); productsRow.appendChild(c); productsGrid.appendChild(c.cloneNode(true)); });
                function layout() {
                    if (window.innerWidth >= 1000) {
                        productsGrid.style.display = 'grid';
                        productsRow.style.display = 'none';
                        productsGrid.style.gridTemplateColumns = 'repeat(4, 1fr)';
                    } else {
                        productsGrid.style.display = 'none';
                        productsRow.style.display = 'flex';
                    }
                }
                layout(); window.addEventListener('resize', debounce(layout, 140));
            })();

            // Debounce util
            function debounce(fn, ms) { let t; return (...args) => { clearTimeout(t); t = setTimeout(() => fn.apply(this, args), ms); } }

            /* Generic carousel initializer for card-wrap containers
               - container: DOM element (card-wrap)
               - controls: { prevBtn, nextBtn, dotsWrap } (elements or null)
               - intervalMs: autoplay milliseconds
            */
            function initCarousel({ container, prevBtn = null, nextBtn = null, dotsWrap = null, intervalMs = 6000 }) {
                if (!container) return null;
                const children = Array.from(container.children);
                if (children.length === 0) return null;

                // read CSS gap value (from --card-gap)
                const gapPx = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--card-gap')) || 12;

                // compute step (card width + gap)
                function getStep() {
                    const card = container.querySelector('.product-card');
                    if (!card) return Math.round(container.clientWidth * 0.9);
                    const rect = card.getBoundingClientRect();
                    return Math.round(rect.width + gapPx);
                }

                // create dots
                if (dotsWrap) dotsWrap.innerHTML = '';
                const count = container.children.length;
                for (let i = 0; i < count; i++) {
                    if (dotsWrap) {
                        const b = document.createElement('button');
                        b.type = 'button';
                        b.className = '';
                        b.addEventListener('click', () => goTo(i));
                        dotsWrap.appendChild(b);
                    }
                }

                let index = 0, timer = null, dragging = false, startX = 0;

                function updateUI() {
                    const step = getStep();
                    container.style.transform = `translateX(-${index * step}px)`;
                    // update dots active
                    if (dotsWrap) {
                        Array.from(dotsWrap.children).forEach((d, i) => d.classList.toggle('active', i === index));
                        // color active
                        Array.from(dotsWrap.children).forEach((d, i) => d.style.background = i === index ? 'var(--brand-2)' : 'rgba(0,0,0,0.12)');
                    }
                }

                function goTo(i) {
                    if (count === 0) return;
                    if (i < 0) i = count - 1;
                    if (i >= count) i = 0;
                    index = i;
                    updateUI();
                    restart();
                }
                function next() { goTo(index + 1); }
                function prev() { goTo(index - 1); }

                // buttons
                if (nextBtn) nextBtn.addEventListener('click', () => next());
                if (prevBtn) prevBtn.addEventListener('click', () => prev());

                // pointer swipe (mobile)
                container.addEventListener('pointerdown', (ev) => {
                    if (window.innerWidth >= 1000) return; // disable dragging on large screens
                    dragging = true;
                    startX = ev.clientX;
                    container.style.transition = 'none';
                    stop();
                    try { container.setPointerCapture(ev.pointerId); } catch (e) { }
                });
                container.addEventListener('pointermove', (ev) => {
                    if (!dragging) return;
                    const dx = ev.clientX - startX;
                    const step = getStep();
                    container.style.transform = `translateX(-${index * step - dx}px)`;
                });
                container.addEventListener('pointerup', (ev) => {
                    if (!dragging) return;
                    dragging = false;
                    container.style.transition = '';
                    const dx = ev.clientX - startX;
                    const step = getStep();
                    if (Math.abs(dx) > Math.min(40, step * 0.2)) {
                        if (dx < 0) next(); else prev();
                    } else {
                        updateUI();
                        restart();
                    }
                    try { container.releasePointerCapture(ev.pointerId); } catch (e) { }
                });
                container.addEventListener('pointercancel', () => { dragging = false; container.style.transition = ''; updateUI(); restart(); });

                // pause on hover / touch
                container.addEventListener('mouseenter', stop);
                container.addEventListener('mouseleave', restart);
                container.addEventListener('touchstart', stop, { passive: true });
                container.addEventListener('touchend', restart, { passive: true });

                // intersection observer to pause when not visible
                const io = new IntersectionObserver(entries => {
                    entries.forEach(en => {
                        if (en.isIntersecting) restart();
                        else stop();
                    });
                }, { threshold: 0.35 });
                io.observe(container);

                // auto-play management
                function start() { stop(); timer = setInterval(() => { next(); }, intervalMs); }
                function stop() { if (timer) { clearInterval(timer); timer = null; } }
                function restart() { stop(); start(); }

                // on resize recalc transform / clear on desktop
                window.addEventListener('resize', debounce(() => {
                    if (window.innerWidth >= 1000) {
                        container.style.transform = '';
                    } else {
                        updateUI();
                    }
                }, 140));

                // initialize transform after small delay (allow layout)
                setTimeout(() => {
                    container.style.transition = 'transform .45s cubic-bezier(.2,.9,.3,1)';
                    if (window.innerWidth < 1000) { updateUI(); start(); }
                }, 80);

                return { goTo, next, prev, start, stop };
            }

            // initialize carousels: all interval 6000ms per your request
            const bestCarousel = initCarousel({ container: bestTrack, prevBtn: document.getElementById('bestPrev'), nextBtn: document.getElementById('bestNext'), dotsWrap: document.getElementById('bestDots'), intervalMs: 6000 });
            const combosCarousel = initCarousel({ container: combosRow, prevBtn: document.getElementById('combosPrev'), nextBtn: document.getElementById('combosNext'), dotsWrap: document.getElementById('combosDots'), intervalMs: 6000 });
            const productsCarousel = initCarousel({ container: productsRow, prevBtn: document.getElementById('productsPrev'), nextBtn: document.getElementById('productsNext'), dotsWrap: document.getElementById('productsDots'), intervalMs: 6000 });

            // hero slider (keeps original behavior)
            (function heroSlider() {
                const slides = Array.from(document.querySelectorAll('.slide'));
                const dotsWrap = document.getElementById('dots');
                if (!slides.length) return;
                let idx = 0, timer = null, interval = 5000;
                slides.forEach((s, i) => {
                    const b = document.createElement('button'); b.className = 'dot' + (i === 0 ? ' active' : ''); b.setAttribute('aria-label', 'Go to slide ' + (i + 1)); b.addEventListener('click', () => goto(i));
                    if (dotsWrap) dotsWrap.appendChild(b);
                });
                const dots = dotsWrap ? Array.from(dotsWrap.children) : [];
                function show(i) { slides.forEach((s, si) => s.classList.toggle('show', si === i)); dots.forEach((d, di) => d.classList.toggle('active', di === i)); }
                function next() { idx = (idx + 1) % slides.length; show(idx); }
                function goto(i) { idx = (i + slides.length) % slides.length; show(idx); restart(); }
                function restart() { if (timer) clearInterval(timer); timer = setInterval(next, interval); }
                const obs = new MutationObserver(() => { if (pre.classList.contains('hidden')) { show(idx); restart(); obs.disconnect(); } });
                obs.observe(pre, { attributes: true });
                setTimeout(() => { if (!timer) { show(idx); restart(); } }, 3200);
                const wrap = document.getElementById('slides');
                if (wrap) { wrap.addEventListener('mouseenter', () => clearInterval(timer)); wrap.addEventListener('mouseleave', restart); wrap.addEventListener('focusin', () => clearInterval(timer)); wrap.addEventListener('focusout', restart); }
                document.addEventListener('keydown', e => { if (e.key === 'ArrowRight') goto(idx + 1); if (e.key === 'ArrowLeft') goto(idx - 1); });
            })();

            // bottom nav highlight
            (function bottomNav() {
                const items = document.querySelectorAll('.bottom-nav a');
                function setActive() { items.forEach(i => i.classList.remove('active')); const h = (location.hash || '#home').replace('#', ''); const map = { home: 'bn-home', 'best-seller': 'bn-best', combos: 'bn-combos', products: 'bn-products', contact: 'bn-contact' }; const cls = map[h] || 'bn-home'; const el = document.querySelector('.' + cls); if (el) el.classList.add('active'); }
                window.addEventListener('hashchange', setActive); window.addEventListener('load', setActive); setActive();
            })();

            // to-top button
            (function toTop() { const btn = document.getElementById('toTop'); if (!btn) return; window.addEventListener('scroll', () => { if (window.scrollY > 300) btn.style.display = 'grid'; else btn.style.display = 'none'; }, { passive: true }); btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' })); })();

        });
    </script>
</body>

</html>