<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dosa Toppings ‚Äî Healthy Twist for Every Dosa</title>
    <link rel="icon" href="assets/icon-2.png" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <style>
        :root {
            --brand-1: #1d7a3a;
            --brand-2: #f3c02b;
            --muted: #5b6b6b;
            --bg: #fff7e6;
            --card-bg: #fffef7;
            --max-width: 1200px;
            --gutter: 18px;
            font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            background: var(--bg);
            color: #142026;
            -webkit-font-smoothing: antialiased;
            line-height: 1.4
        }

        img {
            max-width: 100%;
            display: block
        }

        .conater {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--gutter);
            width: 100%
        }

        /* PRELOADER (inline / visible until hidden) */
        .preloader {
            position: fixed;
            inset: 0;
            background: #ffffff;
            z-index: 99999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity .45s cubic-bezier(.2, .9, .3, 1), visibility .45s cubic-bezier(.2, .9, .3, 1);
            visibility: visible;
            opacity: 1;
        }

        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none
        }

        .preloader .logo {
            width: 140px;
            height: 140px;
            display: grid;
            place-items: center;
            padding: 8px;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 8px 30px rgba(8, 12, 20, 0.06)
        }

        .preloader .caption {
            margin-top: 10px;
            font-weight: 700;
            font-size: 14px;
            color: var(--brand-1);
            text-align: center;
            background: rgba(29, 122, 58, 0.06);
            padding: 6px 10px;
            border-radius: 999px;
            box-shadow: 0 6px 18px rgba(8, 12, 20, 0.04)
        }

        /* Header */
        header.site-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1200;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(6px);
            box-shadow: 0 10px 30px rgba(8, 12, 20, 0.08);
            transition: padding .22s;
            padding: 14px 0
        }

        .nav-inner {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            position: relative;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--gutter)
        }

        .brand-left img {
            height: 64px;
            transition: height .18s
        }

        .nav-center {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1100
        }

        .nav-list {
            display: flex;
            gap: 24px;
            list-style: none;
            margin: 0;
            padding: 0;
            white-space: nowrap
        }

        .nav-list a {
            text-decoration: none;
            color: #000;
            font-weight: 800;
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 15px;
            display: inline-flex;
            align-items: center;
            gap: 8px
        }

        @media(max-width:900px) {
            .nav-center {
                display: none
            }

            .brand-left img {
                height: 44px
            }
        }

        /* bottom nav (mobile) */
        .bottom-nav {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            bottom: 14px;
            z-index: 1400;
            background: linear-gradient(180deg, #fff, #fbfff4);
            border-radius: 14px;
            padding: 8px 12px;
            box-shadow: 0 12px 40px rgba(8, 12, 20, 0.12);
            display: flex;
            gap: 12px;
            align-items: center;
            border: 1px solid rgba(0, 0, 0, 0.04)
        }

        .bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #111;
            font-weight: 700;
            font-size: 12px;
            padding: 6px 8px;
            border-radius: 10px;
            min-width: 56px
        }

        .bottom-nav a .bi {
            font-size: 18px;
            margin-bottom: 4px
        }

        .bottom-nav a.active {
            background: linear-gradient(90deg, var(--brand-1), var(--brand-2));
            color: #fff;
            box-shadow: 0 8px 22px rgba(29, 122, 58, 0.12)
        }

        @media(min-width:900px) {
            .bottom-nav {
                display: none
            }
        }

        /* Hero */
        .hero {
            margin-top: 94px;
            padding: 16px 0;
            display: flex;
            justify-content: center;
            background: linear-gradient(180deg, #fff, #fbfdf9)
        }

        .slides {
            width: 100%;
            max-width: 1400px;
            position: relative;
            overflow: hidden;
            border-radius: 18px;
            background: #eee;
            aspect-ratio: 16/9
        }

        .slide {
            position: absolute;
            inset: 0;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transform: translateY(12px) scale(1.02);
            transition: opacity .9s, transform .9s;
            background-size: 100% auto
        }

        .slide.show {
            opacity: 1;
            transform: none
        }

        .overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: flex-end;
            padding: 28px;
            pointer-events: none
        }

        .caption {
            max-width: 720px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.78));
            padding: 14px 16px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06);
            pointer-events: auto
        }

        .caption h2 {
            margin: 0 0 8px;
            color: var(--brand-1);
            font-size: 20px
        }

        .caption p {
            margin: 0;
            color: var(--muted)
        }

        .dots {
            position: absolute;
            right: 18px;
            bottom: 18px;
            display: flex;
            gap: 10px;
            padding: 8px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06);
            z-index: 20
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.12);
            border: 2px solid rgba(255, 255, 255, 0.2);
            cursor: pointer
        }

        .dot.active {
            background: var(--brand-2)
        }

        /* marquee */
        .marquee-wrap {
            margin: 22px 0
        }

        .marqueebox {
            border-radius: 12px;
            padding: 8px;
            box-shadow: 0 10px 36px rgba(8, 12, 20, 0.08);
            overflow: hidden;
            background: #fffef7
        }

        .marquee {
            display: flex;
            gap: 28px;
            align-items: center;
            white-space: nowrap;
            will-change: transform;
            animation: mar 18s linear infinite
        }

        @keyframes mar {
            0% {
                transform: translateX(0)
            }

            100% {
                transform: translateX(-50%)
            }
        }

        .marq-item {
            display: inline-flex;
            gap: 12px;
            align-items: center;
            padding: 8px 12px;
            border-radius: 999px;
            background: linear-gradient(90deg, #fffef7, #f9fff4);
            box-shadow: 0 8px 28px rgba(8, 12, 10, 0.04);
            font-weight: 800;
            color: var(--brand-1);
            font-size: 16px
        }

        .marqueebox:hover .marquee {
            animation-play-state: paused
        }

        /* sections */
        .section {
            padding: 26px 0
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px
        }

        .section-title h3 {
            margin: 0;
            color: var(--brand-1);
            font-size: 20px
        }

        .muted {
            color: var(--muted)
        }

        /* CARDS - unified look (use same size) */
        /* base card width for mobile carousel; desktop will form grid */
        .card-wrap {
            display: flex;
            gap: 12px;
            padding: 12px 0
        }

        .product-card {
            width: 320px;
            min-width: 320px;
            background: linear-gradient(180deg, #fff, #fffef7);
            border-radius: 12px;
            box-shadow: 0 10px 36px rgba(8, 12, 20, 0.08);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform .16s;
            flex: 0 0 auto;
        }

        .product-card:hover {
            transform: translateY(-6px)
        }

        .product-card .img {
            width: 100%;
            height: 240px;
            overflow: hidden;
            background: #eee;
            position: relative;
        }

        .product-card .img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block
        }

        .price-badge {
            position: absolute;
            right: 14px;
            bottom: 12px;
            background: #fff;
            padding: 10px 14px;
            border-radius: 12px;
            font-weight: 800;
            color: var(--brand-1);
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.06)
        }

        .product-card .body {
            padding: 14px 16px;
            display: flex;
            flex-direction: column;
            gap: 8px
        }

        .tag-pill {
            display: inline-block;
            background: #eaf6ea;
            color: var(--brand-1);
            padding: 6px 10px;
            border-radius: 999px;
            font-weight: 800;
            font-size: 13px
        }

        .product-card h4 {
            margin: 0;
            font-family: 'Merriweather', serif;
            font-size: 20px;
            color: var(--brand-1)
        }

        .product-card .desc {
            color: var(--muted);
            font-size: 15px;
            margin-top: 6px
        }

        /* small-card used in some places */
        .small-card {
            display: flex;
            gap: 12px;
            align-items: center;
            padding: 10px;
            border-radius: 10px;
            background: linear-gradient(180deg, #fff, #fffef7);
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06)
        }

        .small-card img {
            width: 88px;
            height: 88px;
            object-fit: cover;
            border-radius: 8px
        }

        /* layout for desktop: grid */
        @media(min-width:1000px) {
            .card-wrap {
                flex-wrap: wrap;
                justify-content: flex-start
            }

            .product-card {
                width: 100%;
                min-width: 0;
                max-width: 280px;
                flex: 0 0 calc(25% - 18px)
            }

            .product-card .img {
                height: 200px
            }
        }

        /* combos grid 2 per row on desktop */
        .combos-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 12px
        }

        @media(min-width:720px) {
            .combos-grid {
                grid-template-columns: repeat(2, 1fr)
            }
        }

        /* best sellers area uses same card-wrap; on desktop we'll show four */
        .section-grid {
            display: grid;
            gap: 12px
        }

        @media(min-width:1000px) {
            .section-grid {
                grid-template-columns: repeat(4, 1fr)
            }
        }

        /* footer */
        footer {
            margin-top: 30px;
            padding: 36px 0;
            background: var(--brand-2);
            color: #fff;
            border-top: 6px solid var(--brand-1)
        }

        .footer-inner {
            display: flex;
            gap: 18px;
            align-items: flex-start;
            justify-content: space-between;
            flex-wrap: wrap
        }

        .footer-left img {
            height: 84px;
            margin-bottom: 8px
        }

        .footer-bottom {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding-top: 18px;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            margin-top: 14px;
            flex-wrap: wrap
        }

        .to-top {
            position: fixed;
            right: 18px;
            bottom: 22px;
            background: var(--brand-1);
            color: #fff;
            width: 52px;
            height: 52px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            box-shadow: 0 12px 44px rgba(10, 20, 10, 0.18);
            cursor: pointer;
            border: none;
            font-weight: 800;
            font-size: 18px;
            z-index: 1500
        }

        .to-top:focus {
            outline: 3px solid rgba(255, 207, 43, 0.22);
            outline-offset: 3px
        }
    </style>
</head>

<body>

    <!-- PRELOADER -->
    <div id="preloader" class="preloader" aria-hidden="true">
        <div style="display:flex;flex-direction:column;align-items:center;gap:10px;padding:8px;">
            <div class="logo" aria-hidden="true"><img src="assets/icon-5.png" alt="Dosa Toppings logo"
                    style="width:100%;height:auto;display:block"></div>
            <div class="caption">Healthy Twist for every dosa !</div>
        </div>
    </div>

    <!-- HEADER -->
    <header class="site-header" role="banner" aria-label="Main navigation">
        <div class="nav-inner conater">
            <div class="brand-left"><a href="#home" aria-label="Home"><img src="assets/icon-5.png"
                        alt="Dosa Toppings logo"></a></div>
            <nav class="nav-center" role="navigation" aria-label="Primary navigation">
                <ul class="nav-list" role="menubar">
                    <li><a role="menuitem" href="#best-seller">Bestsellers</a></li>
                    <li><a role="menuitem" href="#combos">Combos</a></li>
                    <li><a role="menuitem" href="#products">All Products</a></li>
                    <li><a role="menuitem" href="#about-us">About</a></li>
                    <li><a role="menuitem" href="#quality">Production</a></li>
                    <li><a role="menuitem" href="#contact">Contact</a></li>
                </ul>
            </nav>
            <div style="width:64px"></div>
        </div>
    </header>

    <!-- BOTTOM NAV (mobile) -->
    <nav class="bottom-nav" role="navigation" aria-label="Mobile quick navigation">
        <a href="#home" title="Home" class="bn-home active"><i class="bi bi-house-door"></i><span>Home</span></a>
        <a href="#best-seller" title="Bestsellers" class="bn-best"><i class="bi bi-star-fill"></i><span>Bests</span></a>
        <a href="#combos" title="Combos" class="bn-combos"><i class="bi bi-box-seam"></i><span>Combos</span></a>
        <a href="#products" title="Products" class="bn-products"><i class="bi bi-basket3"></i><span>Shop</span></a>
        <a href="#contact" title="Contact" class="bn-contact"><i class="bi bi-envelope"></i><span>Contact</span></a>
    </nav>

    <main id="home">
        <!-- HERO -->
        <section class="hero" aria-label="Hero">
            <div class="conater">
                <div class="slides" id="slides" aria-live="polite" aria-atomic="true">
                    <div class="slide show" style="background-image:url('assets/hero-1.png');" role="img"
                        aria-label="Hero 1"></div>
                    <div class="slide" style="background-image:url('assets/hero-2.png');" role="img"
                        aria-label="Hero 2"></div>
                    <div class="slide" style="background-image:url('assets/hero-3.png');" role="img"
                        aria-label="Hero 3"></div>
                    <div class="slide" style="background-image:url('assets/hero-4.png');" role="img"
                        aria-label="Hero 4"></div>
                    <div class="overlay">
                        <div class="caption">
                            <h2>Small-batch podis ‚Äî big homemade flavour</h2>
                            <p>Freshly roasted. Stone-ground. Ready-to-sprinkle for instant homely taste.</p>
                        </div>
                    </div>
                    <div class="dots" id="dots" aria-hidden="false"></div>
                </div>
            </div>
        </section>

        <!-- MARQUEE -->
        <div class="marquee-wrap">
            <div class="conater marqueebox">
                <div class="marquee" id="marquee" aria-hidden="false">
                    <div class="marq-item">üåø &nbsp; 100% Natural</div>
                    <div class="marq-item">‚öôÔ∏è &nbsp; No Preservatives</div>
                    <div class="marq-item">üçΩÔ∏è &nbsp; Ready-to-Sprinkle</div>
                </div>
            </div>
        </div>

        <!-- BEST SELLERS -->
        <section id="best-seller" class="section" aria-label="Best sellers">
            <div class="conater">
                <div class="section-title">
                    <h3>Bestsellers</h3>
                </div>
                <!-- Use same card-wrap (horiz scroll on mobile) -->
                <div id="bestRow" class="card-wrap" aria-live="polite" aria-atomic="true"></div>
            </div>
        </section>

        <!-- COMBOS -->
        <section id="combos" class="section" aria-label="Combos">
            <div class="conater">
                <div class="section-title">
                    <h3>Combos</h3>
                </div>
                <div id="combosRow" class="combos-grid"></div>
            </div>
        </section>

        <!-- ALL PRODUCTS -->
        <section id="products" class="section" aria-labelledby="productsTitle">
            <div class="conater">
                <div class="section-title">
                    <h3 id="productsTitle">All Products</h3>
                </div>
                <p class="muted">Pure, elevated podis ‚Äî small-batch roasted, stone-ground and finished for today‚Äôs
                    table.</p>

                <div id="productsRow" class="card-wrap" style="padding-bottom:18px;"></div>

                <!-- desktop fallback grid (kept for large screens) -->
                <div id="productsGrid" class="section-grid" style="display:none;margin-top:12px"></div>
            </div>
        </section>

        <!-- ABOUT -->
        <section id="about-us" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3>About Us</h3>
                </div>
                <div style="display:grid;grid-template-columns:1fr;gap:16px">
                    <div
                        style="background:linear-gradient(180deg,#fff,#fffef9);padding:18px;border-radius:12px;box-shadow:0 10px 36px rgba(8,12,20,0.08)">
                        <p><strong>Dosa Toppings</strong> was born with one simple idea ‚Äî to bring the authentic taste
                            of home into today‚Äôs fast-moving lifestyle.</p>
                        <p class="muted">From busy moms to working professionals to kids who love tasty food ‚Äî Dosa
                            Toppings makes every meal flavourful and nutritious.</p>
                    </div>
                    <div
                        style="background:linear-gradient(180deg,#fff,#fffef9);padding:18px;border-radius:12px;box-shadow:0 10px 36px rgba(8,12,20,0.08)">
                        <h4>Our Promise</h4>
                        <p>Freshly roasted, stone-ground, and packed with care ‚Äî small batches that preserve aroma and
                            deliver home-style taste every day.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- PRODUCTION & QUALITY -->
        <section id="quality" class="section">
            <div class="conater">
                <div class="section-title">
                    <h3>Production & Quality</h3>
                </div>
                <div
                    style="background:linear-gradient(180deg,#fff,#fffef9);padding:18px;border-radius:12px;box-shadow:0 10px 36px rgba(8,12,20,0.08)">
                    <p>Every batch of Dosa Toppings podi is made with care ‚Äî where traditional roasting meets modern
                        food-safety standards.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer id="contact" role="contentinfo">
        <div class="conater footer-inner">
            <div class="footer-left">
                <img src="assets/icon-5.png" alt="logo">
                <p>Instant Authentic Flavour ‚Äî From Tradition to Today.</p>
                <div style="display:flex;gap:12px;margin-top:8px"><a href="https://instagram.com/dosa.toppings"
                        target="_blank" rel="noopener" style="color:#fff">Instagram</a><a
                        href="https://wa.me/917200514471" target="_blank" rel="noopener"
                        style="color:#fff">WhatsApp</a><a href="mailto:kkmhealthyeats4u@gmail.com"
                        style="color:#fff">Email</a></div>
            </div>
            <div class="footer-center">
                <h4>Address</h4>
                <div>KKM FOOD FACTORY<br>2/146/1, Karukkankattupudur,<br>Avinashi, Tiruppur,<br>Tamil Nadu ‚Äì 641654
                </div>
                <div style="margin-top:12px"><strong>FSSAI:</strong> 12425027000407</div>
            </div>
            <div class="footer-right">
                <h4>Contact & Order</h4>
                <div class="muted">WhatsApp / Mobile: <a href="tel:+917200514471" style="color:#fff">+91 72005
                        14471</a><br>Email: <a href="mailto:kkmhealthyeats4u@gmail.com"
                        style="color:#fff">kkmhealthyeats4u@gmail.com</a></div>
            </div>
        </div>
        <div class="conater footer-bottom">
            <div>Made with üåø in Tamil Nadu</div>
            <div class="center">¬©2025 Dosa Toppings ‚Äî Healthy Twist for Every Dosa</div>
            <div>Dosa Toppings v1.0</div>
        </div>
    </footer>

    <button class="to-top" id="toTop" title="Go to top" aria-label="Go to top" style="display:none">‚Üë</button>

    <!-- INLINE DATA -->
    <script>
        const storeData = {
            products: [
                { id: "sig-001", title: "Classic Paruppu Podi", price: 100, unit: "50gms", short: "Lentil-forward, nutty & aromatic.", description: "Best as rice mix or with dosa/idli. Mild heat, rich dal aroma.", image: "assets/signature-1.png", tags: ["HOME_MADE", "HEALTHY"] },
                { id: "sig-002", title: "Curry Leaves Podi", price: 100, unit: "50gms", short: "Fragrant curry leaf & roasted dals.", description: "Aromatic and herbaceous ‚Äî great with rice and chutney.", image: "assets/signature-2.png", tags: ["HOME_MADE"] },
                { id: "sig-003", title: "Moringa Podi", price: 145, unit: "50gms", short: "Nutrient-rich moringa, mild spice.", description: "Vitamin-rich sprinkle ‚Äî delicious in rice or porridge.", image: "assets/signature-3.png", tags: ["HEALTHY"] },
                { id: "sig-004", title: "Garlic Podi", price: 110, unit: "50gms", short: "Roasted garlic ‚Äî bold & savory.", description: "Bold garlic flavour that pairs beautifully with ghee dosa.", image: "assets/signature-4.png", tags: ["HOME_MADE"] },
                { id: "sig-005", title: "Idli Milagai Podi", price: 95, unit: "50gms", short: "Classic mild & nutty seasoning.", description: "Mild & nutty ‚Äî perfect for idli and breakfast bowls.", image: "assets/signature-5.png", tags: ["KIDS"] },
                { id: "sig-006", title: "Kollu Podi", price: 130, unit: "50gms", short: "Protein-rich horse gram blend.", description: "Earthy & nourishing ‚Äî great in rice mixes.", image: "assets/signature-6.png", tags: ["HEALTHY"] },
                { id: "sig-007", title: "Peanut Podi", price: 120, unit: "50gms", short: "Crispy peanuts & warm spices.", description: "Crunchy, nutty & satisfying.", image: "assets/signature-7.png", tags: [] },
                { id: "sig-008", title: "Sesame Podi", price: 110, unit: "50gms", short: "Toasted sesame & fragrant spices.", description: "Nutty, toasty flavour ‚Äî great with rice & dosa.", image: "assets/signature-8.png", tags: ["HOME_MADE"] },
                { id: "sig-009", title: "Millet Mix Podi", price: 150, unit: "50gms", short: "Wholesome millet + spices.", description: "A modern twist with finger millet for extra fibre and nutty aroma.", image: "assets/signature-9.png", tags: ["HEALTHY"] },
                { id: "sig-010", title: "Tangy Tomato Podi", price: 105, unit: "50gms", short: "Tangy tomato with mild spice.", description: "Bright tangy notes ‚Äî great as a spread or sprinkle for kids and adults.", image: "assets/signature-10.png", tags: ["KIDS"] }
            ],
            combos: [
                { id: "combo-001", title: "Breakfast Starter Combo", price: 280, unit: "3 x 50gms", items: ["sig-001", "sig-005", "sig-002"], short: "Classic Paruppu + Idli Milagai + Curry Leaves ‚Äî morning-ready.", image: "assets/combo-1.png" },
                { id: "combo-002", title: "Health Pack Combo", price: 360, unit: "3 x 50gms", items: ["sig-003", "sig-006", "sig-009"], short: "Moringa + Kollu + Millet mix for a nourishing boost.", image: "assets/combo-2.png" },
                { id: "combo-003", title: "Family Favourite Combo", price: 340, unit: "3 x 50gms", items: ["sig-004", "sig-007", "sig-008"], short: "Garlic + Peanut + Sesame ‚Äî balanced family flavours.", image: "assets/combo-3.png" },
                { id: "combo-004", title: "Kids Lunchbox Combo", price: 295, unit: "3 x 50gms", items: ["sig-005", "sig-010", "sig-001"], short: "Mild & tasty trio kids will love ‚Äî safe spice levels.", image: "assets/combo-4.png" }
            ],
            bestSellers: ["sig-003", "sig-004", "sig-001", "sig-007"]
        };
    </script>

    <!-- MAIN SCRIPT: renders cards & handles auto-scroll -->
    <script>
        (function () {
            // helper escape
            function esc(s) { if (s === null || s === undefined) return ''; return String(s).replace(/[&<>"']/g, m => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m])); }

            // DOM refs
            const pre = document.getElementById('preloader');
            const bestRow = document.getElementById('bestRow');
            const combosRow = document.getElementById('combosRow');
            const productsRow = document.getElementById('productsRow');
            const productsGrid = document.getElementById('productsGrid');
            const toTopBtn = document.getElementById('toTop');

            // hide preloader safely after 3s or when DOM loaded
            (function handlePreloader() {
                const MIN = 3000;
                const started = Date.now();
                function hideNow() { const elapsed = Date.now() - started; const wait = Math.max(0, MIN - elapsed); setTimeout(() => pre.classList.add('hidden'), wait); }
                if (document.readyState === 'complete' || document.readyState === 'interactive') hideNow();
                else { window.addEventListener('DOMContentLoaded', hideNow); setTimeout(() => pre.classList.add('hidden'), 8000); }
            })();

            // small UI helpers
            function el(html) { const d = document.createElement('div'); d.innerHTML = html.trim(); return d.firstElementChild; }

            // create card (shared between best, products, combos)
            function createProductCard(p) {
                const card = document.createElement('article');
                card.className = 'product-card';
                card.innerHTML = `
          <div class="img">
            <img src="${esc(p.image)}" alt="${esc(p.title)}">
            <div class="price-badge">‚Çπ${Number(p.price || 0).toFixed(0)} / ${esc(p.unit || '')}</div>
          </div>
          <div class="body">
            <div class="tag-pill">Signature</div>
            <h4>${esc(p.title)}</h4>
            <div class="desc">${esc(p.short || '')}</div>
          </div>
        `;
                return card;
            }

            // create combo card (reuse product-card layout but with image & title)
            function createComboCard(c, lookup) {
                const fake = { image: c.image || (lookup[c.items && c.items[0]] && lookup[c.items[0]].image) || 'assets/signature-1.png', title: c.title, price: c.price, unit: c.unit, short: c.short };
                return createProductCard(fake);
            }

            // render functions
            function renderBest() {
                bestRow.innerHTML = '';
                const lookup = {};
                storeData.products.forEach(p => lookup[p.id] = p);
                const list = (storeData.bestSellers || []).map(id => lookup[id]).filter(Boolean);
                // if none, pick top 4
                const showList = list.length ? list : storeData.products.slice(0, 4);
                showList.forEach(p => {
                    bestRow.appendChild(createProductCard(p));
                });
            }

            function renderCombos() {
                combosRow.innerHTML = '';
                const lookup = {}; storeData.products.forEach(p => lookup[p.id] = p);
                storeData.combos.forEach(c => {
                    combosRow.appendChild(createComboCard(c, lookup));
                });
            }

            function renderProducts() {
                productsRow.innerHTML = '';
                productsGrid.innerHTML = '';
                storeData.products.forEach(p => {
                    const c = createProductCard(p);
                    productsRow.appendChild(c);
                    productsGrid.appendChild(c.cloneNode(true));
                });
                // toggle grid vs horiz on resize
                function layout() {
                    if (window.innerWidth >= 1000) {
                        productsGrid.style.display = 'grid';
                        productsRow.style.display = 'none';
                        productsGrid.style.gridTemplateColumns = 'repeat(4, 1fr)';
                    } else {
                        productsGrid.style.display = 'none';
                        productsRow.style.display = 'flex';
                    }
                }
                layout();
                window.addEventListener('resize', debounce(layout, 140));
            }

            // debounce helper
            function debounce(fn, ms) { let t; return function () { clearTimeout(t); t = setTimeout(() => fn.apply(this, arguments), ms); }; }

            // AUTO-SCROLL/CAROUSEL for any horizontal .card-wrap
            // Advances one card width every intervalMs; loops.
            function setupAutoCarousel(container, intervalMs) {
                if (!container) return;
                // only enable when there are child cards
                const children = Array.from(container.children);
                if (children.length <= 1) return;

                // compute scroll step as the first child's outer width (including margin)
                function getStep() {
                    const card = container.querySelector('.product-card');
                    if (!card) return Math.round(container.clientWidth * 0.9);
                    // width + gap (approx)
                    const style = window.getComputedStyle(card);
                    const w = card.getBoundingClientRect().width;
                    return Math.round(w + 12); // 12 is gap
                }

                let step = getStep();
                let timer = null;
                let paused = false;

                function start() {
                    if (timer) clearInterval(timer);
                    timer = setInterval(() => {
                        if (paused) return;
                        // advance
                        const maxScroll = container.scrollWidth - container.clientWidth;
                        if (container.scrollLeft >= maxScroll - 2) {
                            // loop to start (smooth)
                            container.scrollTo({ left: 0, behavior: 'smooth' });
                        } else {
                            container.scrollBy({ left: step, behavior: 'smooth' });
                        }
                    }, intervalMs);
                }

                function stop() { if (timer) { clearInterval(timer); timer = null; } }

                // pause on hover / focus / touch
                container.addEventListener('mouseenter', () => paused = true);
                container.addEventListener('mouseleave', () => paused = false);
                container.addEventListener('touchstart', () => paused = true, { passive: true });
                container.addEventListener('touchend', () => paused = false, { passive: true });

                // pause when not visible (intersection observer)
                const io = new IntersectionObserver(entries => {
                    entries.forEach(en => {
                        if (en.isIntersecting) { paused = false; start(); }
                        else { paused = true; }
                    });
                }, { threshold: 0.3 });
                io.observe(container);

                // recalc on resize
                window.addEventListener('resize', debounce(() => { step = getStep(); }, 160));

                // init
                step = getStep();
                start();
            }

            // small hash-based selection for bottom nav highlight
            function bottomNavHighlight() {
                const items = document.querySelectorAll('.bottom-nav a');
                function setActive() {
                    items.forEach(i => i.classList.remove('active'));
                    const h = (location.hash || '#home').replace('#', '');
                    const map = { home: 'bn-home', 'best-seller': 'bn-best', combos: 'bn-combos', products: 'bn-products', contact: 'bn-contact' };
                    const cls = map[h] || 'bn-home';
                    const el = document.querySelector('.' + cls);
                    if (el) el.classList.add('active');
                }
                window.addEventListener('hashchange', setActive);
                window.addEventListener('load', setActive);
                setActive();
            }

            // to-top visibility
            (function toTop() {
                const btn = toTopBtn;
                if (!btn) return;
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) btn.style.display = 'grid';
                    else btn.style.display = 'none';
                }, { passive: true });
                btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
            })();

            // slider for hero
            (function heroSlider() {
                const slides = Array.from(document.querySelectorAll('.slide'));
                const dotsWrap = document.getElementById('dots');
                if (!slides.length) return;
                let idx = 0, timer = null, interval = 5000;
                // create dots
                slides.forEach((s, i) => {
                    const b = document.createElement('button');
                    b.className = 'dot' + (i === 0 ? ' active' : '');
                    b.setAttribute('aria-label', 'Go to slide ' + (i + 1));
                    b.addEventListener('click', () => goTo(i));
                    if (dotsWrap) dotsWrap.appendChild(b);
                });
                const dots = dotsWrap ? Array.from(dotsWrap.children) : [];
                function show(i) {
                    slides.forEach((s, si) => s.classList.toggle('show', si === i));
                    dots.forEach((d, di) => d.classList.toggle('active', di === i));
                }
                function next() { idx = (idx + 1) % slides.length; show(idx); }
                function goTo(i) { idx = (i + slides.length) % slides.length; show(idx); restart(); }
                function restart() { if (timer) clearInterval(timer); timer = setInterval(next, interval); }
                // start after preloader hidden or fallback
                const obs = new MutationObserver(() => { if (pre.classList.contains('hidden')) { show(idx); restart(); obs.disconnect(); } });
                obs.observe(pre, { attributes: true });
                setTimeout(() => { if (!timer) { show(idx); restart(); } }, 3200);
                const slideWrap = document.getElementById('slides');
                if (slideWrap) {
                    slideWrap.addEventListener('mouseenter', () => clearInterval(timer));
                    slideWrap.addEventListener('mouseleave', restart);
                    slideWrap.addEventListener('focusin', () => clearInterval(timer));
                    slideWrap.addEventListener('focusout', restart);
                }
                document.addEventListener('keydown', (e) => { if (e.key === 'ArrowRight') goTo(idx + 1); if (e.key === 'ArrowLeft') goTo(idx - 1); });
            })();

            // run renderers
            try {
                renderBest();
                renderCombos();
                renderProducts();

                // set up carousels with 6s interval for mobile rows (only relevant when horizontal)
                setupAutoCarousel(bestRow, 6000);
                setupAutoCarousel(productsRow, 6000);
                setupAutoCarousel(combosRow, 6000);

                bottomNavHighlight();
            } catch (err) {
                console.error('Render error', err);
            }

        })();
    </script>
</body>

</html>